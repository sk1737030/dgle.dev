<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Container í™˜ê²½ì—ì„œì˜ JVM GC | Dongle</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dgle.dev/container-gc"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Container í™˜ê²½ì—ì„œì˜ JVM GC | Dongle"><meta data-rh="true" name="description" content="ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ JVM GCëŠ” ë¬´ì—‡ì´ ì„ íƒë ê¹Œ?"><meta data-rh="true" property="og:description" content="ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ JVM GCëŠ” ë¬´ì—‡ì´ ì„ íƒë ê¹Œ?"><meta data-rh="true" property="og:image" content="https://i.imgur.com/mErPwqL.png"><meta data-rh="true" name="twitter:image" content="https://i.imgur.com/mErPwqL.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-05-02T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/sk1737030"><meta data-rh="true" property="article:tag" content="Kubernate,Container,JVM,Java"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dgle.dev/container-gc"><link data-rh="true" rel="alternate" href="https://dgle.dev/container-gc" hreflang="en"><link data-rh="true" rel="alternate" href="https://dgle.dev/container-gc" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://L7PLUQ38M6-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Dongle RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Dongle Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-BESW8T9G3W","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="Dongle" href="/opensearch.xml">
<script src="https://www.googletagmanager.com/gtag/js?id=G-BESW8T9G3W" async></script>
<script src="js/googleAnalytics.js" async></script><link rel="stylesheet" href="/assets/css/styles.9e5d9bb2.css">
<link rel="preload" href="/assets/js/runtime~main.bf855e9e.js" as="script">
<link rel="preload" href="/assets/js/main.d1fbbed9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://avatars.githubusercontent.com/u/28296218?s=400&amp;u=4e1e0c55274f6595e4f2e0a6148c7e209c9e7541&amp;v=4" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://avatars.githubusercontent.com/u/28296218?s=400&amp;u=4e1e0c55274f6595e4f2e0a6148c7e209c9e7541&amp;v=4" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Dongle</b></a><a class="navbar__item navbar__link" href="/archive">ëª©ë¡</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sk1737030" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://bit.ly/3sWvIA4" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TIL<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/spring-boot-batch-1">Spring Boot Batch ë”°ë¼ê°€ë³´ê¸° - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/rest-assured">RestAssured</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/adult-literacy">ì–´ë¥¸ì˜ ë¬¸í•´ë ¥</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/programmers-brain">í”„ë¡œê·¸ë˜ë¨¸ì˜ ë‡Œ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/DDD-start">DDD-Startë¥¼ ì½ê³ !</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://i.imgur.com/mErPwqL.png"><header><h1 class="title_f1Hy" itemprop="headline">Container í™˜ê²½ì—ì„œì˜ JVM GC</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-05-02T00:00:00.000Z" itemprop="datePublished">May 2, 2022</time> Â· <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/sk1737030" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/sk1737030.png" alt="Dongle"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sk1737030" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Dongle</span></a></div><small class="avatar__subtitle" itemprop="description">Junior Backend Developer</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>ë‹¹ì—°íˆ ìš°ë¦¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ GCëŠ” ë‹¹ì—°íˆ G1GCë¥¼ ì“°ê³  ìˆê² ì§€ë¼ê³  í•œì¹˜ì˜ ì˜ì‹¬ ì—†ì´ ìƒê°ì„ í–ˆì—ˆë‹¤. ì•„ë‹ˆ ì ì–´ë„ Jdk 11ì„ ì‚¬ìš©í•˜ë©´ì„œ GCë¥¼ zgc vs g1gcë¥¼ ë­˜ ì¨ì•¼ ë” ì¢‹ì„ê¹Œ ì´ëŸ° ìƒê°ë§Œ í–ˆì—ˆì§€ ì„¤ë§ˆ <strong>G1GC vs SerialÂ Collector</strong>ë¥¼ ê³ ë¯¼ì„ í•˜ê³  ìˆì„ ì¤„ì´ì•¼! ê¿ˆì—ì„œë„ ìƒê°ì„ ëª»í–ˆë‹¤. ê²°ë¡ ë¶€í„° ë§í•˜ìë©´ Container í™˜ê²½ì—ì„œ Cpuì™€ ë©”ëª¨ë¦¬ì— ë”°ë¼ì„œ GCì„ íƒì´ g1gcê°€ ë  ìˆ˜ë„ ìˆê³  ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="jdk-11ì˜-gcëŠ”-ë¬´ì¡°ê±´-g1gcì£ ">Jdk 11ì˜ GCëŠ” ë¬´ì¡°ê±´ G1GCì£ !<a href="#jdk-11ì˜-gcëŠ”-ë¬´ì¡°ê±´-g1gcì£ " class="hash-link" aria-label="Direct link to Jdk 11ì˜ GCëŠ” ë¬´ì¡°ê±´ G1GCì£ !" title="Direct link to Jdk 11ì˜ GCëŠ” ë¬´ì¡°ê±´ G1GCì£ !">â€‹</a></h2><p>ë‹¹ì—°íˆ ìš°ë¦¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ GCëŠ” ë‹¹ì—°íˆ G1GCë¥¼ ì“°ê³  ìˆê² ì§€ë¼ê³  í•œì¹˜ì˜ ì˜ì‹¬ ì—†ì´ ìƒê°ì„ í–ˆì—ˆë‹¤. ì•„ë‹ˆ ì ì–´ë„ Jdk 11ì„ ì‚¬ìš©í•˜ë©´ì„œ GCë¥¼ zgc vs g1gcë¥¼ ë­˜ ì¨ì•¼ ë” ì¢‹ì„ê¹Œ ì´ëŸ° ìƒê°ë§Œ í–ˆì—ˆì§€ ì„¤ë§ˆ <strong>G1GC vs SerialÂ Collector</strong>ë¥¼ ê³ ë¯¼ì„ í•˜ê³  ìˆì„ ì¤„ì´ì•¼! ê¿ˆì—ì„œë„ ìƒê°ì„ ëª»í–ˆë‹¤. ê²°ë¡ ë¶€í„° ë§í•˜ìë©´ Container í™˜ê²½ì—ì„œ Cpuì™€ ë©”ëª¨ë¦¬ì— ë”°ë¼ì„œ GCì„ íƒì´ g1gcê°€ ë  ìˆ˜ë„ ìˆê³  ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ë°œë‹¨">ë°œë‹¨<a href="#ë°œë‹¨" class="hash-link" aria-label="Direct link to ë°œë‹¨" title="Direct link to ë°œë‹¨">â€‹</a></h3><p>ì¼ë‹¨ ìš°ë¦¬ëŠ” í”í•˜ë”” í”í•œ <code>Kubernate</code>ì˜ ë©‹ìˆëŠ” ì˜¤ì¼€ìŠ¤íŠ¸ë¼ë¥¼ ì—°ì£¼ë¥¼ í•˜ë©° <code>Container</code>í™˜ê²½ì—ì„œ appì„ ë°°í¬í•˜ê³  ê´€ë¦¬í•˜ê³  ìˆë‹¤. ì–´ëŠë‚  Slackì— í¬ë£¨ ì¤‘ ëˆ„êµ°ê°€ê°€ ìš°ë¦¬ ë‹¹ì—°íˆ g1gc ì“°ê³  ìˆì£ ? ë¼ê³  ì˜¬ë¼ì™€ì„œ ë‚˜ëŠ” ì—¥? ë‹¹ì—°í•œ ê±° ì•„ë‹Œê°€ë¼ê³  ìƒê°ì„ í•˜ê³  ë‹¤ë¥¸ ì¼ì„ í–ˆëŠ”ë° ë‹¤ë¥¸ í¬ë£¨ê°€ ìš°ë¦¬ <strong>SerialÂ Collector</strong> ì¸ ê±° ê°™ì€ë°ìš”??? ë¼ê³  ë‹µì¥ì„ ë‹¬ì•˜ë‹¤.  </p><p><img loading="lazy" alt="ì•„ë‹ˆ ì´ê²Œ ë­” ê°œ ì†Œë¦¬ì•¼!" src="/assets/images/Untitled-1da7573e785643ce48b7c5d578a645bc.png" width="236" height="213" class="img_ev3q">  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ì •ë§ì¼ê¹Œ">ì •ë§ì¼ê¹Œ?<a href="#ì •ë§ì¼ê¹Œ" class="hash-link" aria-label="Direct link to ì •ë§ì¼ê¹Œ?" title="Direct link to ì •ë§ì¼ê¹Œ?">â€‹</a></h3><p>ë‚˜ëŠ” ìš°ë¦¬ jdk11 ë²„ì „ ì“°ëŠ”ë°? ê·¸ëŸ´ ë¦¬ê°€ ìˆì–´? ì—ì´ ì˜ëª» ë´¤ê² ì§€ë¼ê³  ìƒê°ì„ í•˜ê³  ì¢‹ì•„ ë‚´ ëˆˆìœ¼ë¡œ í™•ì¸ì„ í•´ë´ì•¼ì§€ë¼ë©° containerì—  ë“¤ì–´ê°€ì„œ í™•ì¸ì„ í•´ ë´¤ëŠ”ë°</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> java -XX:+PrintCommandLineFlags -version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Picked up JAVA_TOOL_OPTIONS:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-XX:+SegmentedCodeCache </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-XX:+UseCompressedClassPointers </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-XX:+UseCompressedOops </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">**-XX:+UseSerialGC** </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openjdk version </span><span class="token string" style="color:#e3116c">&quot;11.0.13&quot;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-10-19</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenJDK Runtime Environment </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">build </span><span class="token number" style="color:#36acaa">11.0</span><span class="token plain">.13+8-post-Debian-1deb11u1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenJDK </span><span class="token number" style="color:#36acaa">64</span><span class="token plain">-Bit Server VM </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">build </span><span class="token number" style="color:#36acaa">11.0</span><span class="token plain">.13+8-post-Debian-1deb11u1, mixed mode</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ì¼ë‹¨ ë‹¤ë¥¸ Java_Tool Optionì´ ìˆì—ˆì§€ë§Œ ë‹¤ ìƒëµí•˜ê³  ë¨¼ì € OpenJdk ì‚¬ìš© ì¤‘ì´ê³  Versionì€ 11.0.13ì„ ì‚¬ìš©í•˜ëŠ” ê±¸ í™•ì¸í•˜ê³ , ì˜µì…˜ì„ ë´¤ëŠ”ë° <code>-XX:+UseSerialGC</code>  (<del>ì•„ë‹ˆ í˜•ì´ ì™œ ìš”ê¸°ì„œ ë‚˜ì™€</del>)  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ì˜ì‹¬">ì˜ì‹¬<a href="#ì˜ì‹¬" class="hash-link" aria-label="Direct link to ì˜ì‹¬" title="Direct link to ì˜ì‹¬">â€‹</a></h3><p>ë„ˆë¬´ ë†€ë¼ì„œ, ì§€ê¸ˆ ìƒê°í•´ë³´ë©´ ë§ë„ ì•ˆ ë˜ëŠ” ì—¬ëŸ¬ ì˜ì‹¬ë“¤ì„ í–ˆëŠ”ë° </p><ol><li>ì € JDK ë²„ì „ì´ ë¬¸ì œê°€ ìˆì–´ì„œ ë¬´ì¡°ê±´ SerialGCë¥¼ ì£¼ì… í•  ê²ƒì´ë‹¤.<ul><li>ë¼ê³  ìƒê°ì„ í–ˆì§€ë§Œ, ì‚¬ì‹¤ ë§ë„ ì•ˆ ëœë‹¤ ë¬´ìŠ¨ ë™ë„¤ OpenJdkë„ ì•„ë‹ˆê³  ì´ ìƒê°ì€ ê¸ˆë°© ë„˜ì–´ê°”ë‹¤</li></ul></li><li>ëˆ„êµ°ê°€ê°€ ì£¼ì…ì„ í–ˆì„ ê²ƒì´ë‹¤.<ul><li>ëˆ„êµ°ê°€ê°€ buildë¥¼ í•  ë•Œ ì£¼ì…ì„ í•´ë†¨ì„ ê±°ë¼ê³  ìƒê°ì„ í•˜ê³  buildë¶€ë¶„ì„ ìœ ì‹¬íˆ ë´¤ì§€ë§Œ SerialGCì˜ Së„ ì°¾ì•„ë³¼ ìˆ˜ ì—†ì—ˆë‹¤.</li></ul></li><li>ì € ì˜µì…˜ì´ ë³´ì—¬ì£¼ëŠ” ê±´ ê°€ì§œì•¼!</li></ol><p>ë“±ë“± ì§„ì§œ ë§ë„ ì•ˆ ë˜ëŠ” ì˜ì‹¬ë“¤ì„ í•˜ê¸° ì‹œì‘í–ˆë‹¤.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ì¹¨ì°©">ì¹¨ì°©<a href="#ì¹¨ì°©" class="hash-link" aria-label="Direct link to ì¹¨ì°©" title="Direct link to ì¹¨ì°©">â€‹</a></h3><p>ì‚¬ì‹¤ ìœ„ì— ì €ëŸ° ì˜ì‹¬ ë§ê³ ë„ ì—¬ëŸ¬ ê°€ì •ê³¼ ìˆ˜ë§ì€ ì˜ì‹¬ë“¤ì„ í–ˆì—ˆë‹¤. ê·¸ëŸ¬ë‹¤ê°€ í˜„ì‹¤ì„ ë°›ì•„ë“¤ì´ê³  ì™œ SerialGCë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆì„ê¹Œë¼ê³  ìƒê°ì„ í–ˆë‹¤. ì‚¬ì‹¤ ë‚œ ë‚˜ë³´ë‹¤ Kubeí™˜ê²½ì—ì„œì˜ Containerê°€ ìë™ìœ¼ë¡œ <strong>ì €ë ‡ê²Œ ì„¤ì •í•œ ì´ìœ ê°€ ìˆê² ì§€ë¼ê³ </strong> ë” ë¯¿ê¸° ë•Œë¬¸ì— ì˜¤ëœë§Œì— SeraliGCì™€ G1GCë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ë³´ê¸°ë¡œ í–ˆë‹¤.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="serail-collector">Serail Collector<a href="#serail-collector" class="hash-link" aria-label="Direct link to Serail Collector" title="Direct link to Serail Collector">â€‹</a></h3><p>The serial collector uses a single thread to perform all garbage collection work, which makes it relatively efficient because there is no communication overhead between threads.</p><p>It&#x27;s best-suited to single processor machines because it can&#x27;t take advantage of multiprocessor hardware, although it can be useful on multiprocessors for applications with small data sets (up to approximately 100 MB). The serial collector is selected by default on certain hardware and operating system configurations, or can be explicitly enabled with the optionÂ <code>-XX:+UseSerialGC</code>.</p><p>ê°€ì¥ ì¤‘ìš”í•œ í•µì‹¬ì€ <strong>Single processor</strong> ì¼ ë•Œ Best Suiteì´ë‹¤. ë¬¼ë¡  ì‘ì€ ë©”ëª¨ë¦¬ ë°ì´í„°ì…‹(up to approximately 100 MB)ì„ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë©€í‹° í”„ë¡œì„¸ì„œì¼ ê²½ìš° ì“¸ë§Œí•˜ê¸´ í•˜ë‚˜ ë³„ë¡œ ì‚¬ìš©ì„ ì•ˆ í•œë‹¤.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="g1gc">G1GC<a href="#g1gc" class="hash-link" aria-label="Direct link to G1GC" title="Direct link to G1GC">â€‹</a></h3><p>java 9 ë¶€í„° ì±„íƒí•œ default GCì´ë‹¤. </p><p>The Garbage-First (G1) garbage collector is targeted for <strong>multiprocessor machines</strong> <strong>with a large amount of memory</strong>. It attempts to meet garbage collection pause-time goals with high probability while achieving high throughput with little need for configuration. G1 aims to provide the best balance between latency and throughput using current target applications and environments whose features include:
ã„¹ë§ë„
ê°€ì¥ ì¤‘ìš”í•œ í•µì‹¬ì€ Gabage First GCì€ ë†’ì€ ë©”ëª¨ë¦¬ ëŸ‰ê³¼ ë‹¤ì¤‘ í”„ë¡œì„¸ì„œë¥¼ íƒ€ê¹ƒìœ¼ë¡œ ì‚¼ê³ , ë¹ ë¥¸ ì²˜ë¦¬ë¥¼ ì§€ì›í•˜ì—¬ STWë¥¼ ì¤„ì¸ë‹¤ëŠ” ê²ƒì´ë‹¤.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ì›ì¸">ì›ì¸<a href="#ì›ì¸" class="hash-link" aria-label="Direct link to ì›ì¸" title="Direct link to ì›ì¸">â€‹</a></h3><p>ì›ì¸ì€ <a href="https://developers.redhat.com/articles/2022/04/19/java-17-whats-new-openjdks-container-awareness#tuning_defaults_for_containers" target="_blank" rel="noopener noreferrer">RedHatë¬¸ì„œ</a>ì—ì„œ ì°¾ì„ ìˆ˜ ìˆì—ˆëŠ”ë°</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Java 11GC In Container</div><div class="admonitionContent_S0QG"><p>For Java 11+ it&#x27;s also useful to know which GC is being used, and you can display this information viaÂ -Xlog:gc=info. For example, when container limits allow only a single CPU to be active, the Serial GC will be selected. <code>If more than one CPU is active and sufficient memory (at least 2GB) is allocated to the container, the G1 GC will be selected in Java 11 and later versions:</code></p></div></div><p>Containerí™˜ê²½ì—ì„œëŠ” CPU Coreë¥¼ 2ê°œ ì´ìƒ ì‚¬ìš©í•˜ë©´ì„œ Memoryê°€ 2G ì´ìƒì´ì—¬ì•¼ G1GCê°€ ì±„íƒëœë‹¤ëŠ” ê²ƒì´ë‹¤.</p><p><a href="https://developers.redhat.com/articles/2022/04/19/best-practices-java-single-core-containers#the_jvm_as_a_dynamic_execution_platform" target="_blank" rel="noopener noreferrer">ì•„ë§ˆë„  ì½”ë“œì—ì„œëŠ” ì´ëŸ° ëŠë‚Œì´ì§€ ì•Šì„ê¹Œ</a></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void GCConfig::</span><span class="token function-name function" style="color:#d73a49">select_gc_ergonomically</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os::is_server_class_machine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">))</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#if INCLUDE_G1GC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FLAG_SET_ERGO_IF_DEFAULT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UseG1GC, </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#elif INCLUDE_PARALLELGC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FLAG_SET_ERGO_IF_DEFAULT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UseParallelGC, </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#elif INCLUDE_SERIALGC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FLAG_SET_ERGO_IF_DEFAULT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UseSerialGC, </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#if INCLUDE_SERIALGC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FLAG_SET_ERGO_IF_DEFAULT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UseSerialGC, </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// This is the working definition of a server class machine:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> physical CPU&#x27;s and </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain">2GB of memory</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ë³€ê²½">ë³€ê²½<a href="#ë³€ê²½" class="hash-link" aria-label="Direct link to ë³€ê²½" title="Direct link to ë³€ê²½">â€‹</a></h3><p>ì›ì¸ì€ ì¼ë‹¨ ì•Œì•˜ìœ¼ë‹ˆê¹Œ ê¸°ì¡´ì— ë”°ë¡œ ì§€ì •ì„ ì•ˆ í–ˆë˜ CPU processorë¥¼ ëŠ˜ë¦¬ê³  ë©”ëª¨ë¦¬ë„ ì¦ê°€ë¥¼ ì‹œí‚¨ ê²°ê³¼  </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/ </span><span class="token comment" style="color:#999988;font-style:italic"># java -XX:+PrintCommandLineFlags -version</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Picked up JAVA_TOOL_OPTIONS: -javaagent:/opt/agent/apm-agent.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-XX:G1ConcRefinementThreads</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> -XX:GCDrainStackTargetSize</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-XX:+UseCompressedOops </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">**-XX:+UseG1GC** </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openjdk version </span><span class="token string" style="color:#e3116c">&quot;11.0.13&quot;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-10-19</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenJDK </span><span class="token number" style="color:#36acaa">64</span><span class="token plain">-Bit Server VM </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">build </span><span class="token number" style="color:#36acaa">11.0</span><span class="token plain">.13+8-post-Debian-1deb11u1, mixed mode</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ê·¸ í›„ ë©°ì¹  ê°„ê²©ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ì„ í•´ë³¸ ê²°ê³¼ </p><p>ê¸°ì¡´ SerialGC ì‚¬ìš©í•  ë•Œì—ëŠ” GCê°€ ì¼ì–´ë‚  ë•Œ ì „ë°˜ì ìœ¼ë¡œ pause timeì´ ê¸¸ì—ˆìŠµë‹ˆë‹¤. 100ms </p><p><img loading="lazy" alt="Untitled" src="/assets/images/Untitled 1-69ab52e668ab54bc5f495b2da6969372.png" width="1050" height="546" class="img_ev3q">  </p><p>ë³€ê²½ í›„  </p><p><img loading="lazy" alt="Untitled" src="/assets/images/Untitled 2-09e5e763a52808557fcfbd1cc5897173.png" width="1028" height="536" class="img_ev3q">  </p><p>ë” ëª¨ë‹ˆí„°ë§ì„ í•´ ë´ì•¼ê² ì§€ë§Œ ë‹¤ì†Œ 150msë‚˜ ë¨¹ì—ˆë˜ Major GCë¶€ë¶„ì´ heap size ë³€ê²½ ë° cpu processorì¦ê°€ GC ë³€ê²½ í›„ì— ì•„ì§ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p><p>ì°¸ì¡°<br>
<a href="https://docs.oracle.com/javase/9/gctuning/available-collectors.htm#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/javase/9/gctuning/available-collectors.htm#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498</a><br>
<a href="https://johngrib.github.io/wiki/java-gc-tuning/#serial-collector" target="_blank" rel="noopener noreferrer">https://johngrib.github.io/wiki/java-gc-tuning/#serial-collector</a><br>
<a href="https://d2.naver.com/helloworld/1329" target="_blank" rel="noopener noreferrer">https://d2.naver.com/helloworld/1329</a> - Naverì˜ GCì •ë¦¬ëŠ” ë‚˜ë§Œ ì½ê³  ì‹¶ì€ Docs ì¤‘ í•˜ë‚˜<br>
<a href="https://docs.oracle.com/javase/9/gctuning/garbage-first-garbage-collector.htm#JSGCT-GUID-0394E76A-1A8F-425E-A0D0-B48A3DC82B42" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/javase/9/gctuning/garbage-first-garbage-collector.htm#JSGCT-GUID-0394E76A-1A8F-425E-A0D0-B48A3DC82B42</a><br>
<a href="https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html" target="_blank" rel="noopener noreferrer">https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html</a> g1gc</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/kubernate">Kubernate</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/container">Container</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/jvm">JVM</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/java">Java</a></li></ul></div></footer></article><br> <br><div></div><br><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/generic"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">ê¹Œë¨¹ì–´ì„œ ë‹¤ì‹œ ë³´ëŠ” Generic</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/RateLimiter2"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Request Rate Limiterë¥¼ ë§Œë“¤ì–´ë³´ì! 2í¸</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#jdk-11ì˜-gcëŠ”-ë¬´ì¡°ê±´-g1gcì£ " class="table-of-contents__link toc-highlight">Jdk 11ì˜ GCëŠ” ë¬´ì¡°ê±´ G1GCì£ !</a><ul><li><a href="#ë°œë‹¨" class="table-of-contents__link toc-highlight">ë°œë‹¨</a></li><li><a href="#ì •ë§ì¼ê¹Œ" class="table-of-contents__link toc-highlight">ì •ë§ì¼ê¹Œ?</a></li><li><a href="#ì˜ì‹¬" class="table-of-contents__link toc-highlight">ì˜ì‹¬</a></li><li><a href="#ì¹¨ì°©" class="table-of-contents__link toc-highlight">ì¹¨ì°©</a></li><li><a href="#serail-collector" class="table-of-contents__link toc-highlight">Serail Collector</a></li><li><a href="#g1gc" class="table-of-contents__link toc-highlight">G1GC</a></li><li><a href="#ì›ì¸" class="table-of-contents__link toc-highlight">ì›ì¸</a></li><li><a href="#ë³€ê²½" class="table-of-contents__link toc-highlight">ë³€ê²½</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 DongleğŸ˜€</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bf855e9e.js"></script>
<script src="/assets/js/main.d1fbbed9.js"></script>
</body>
</html>