"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1368],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return d}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),l=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=l(e.components);return a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=l(t),d=r,k=m["".concat(p,".").concat(d)]||m[d]||u[d]||i;return t?a.createElement(k,o(o({ref:n},c),{},{components:t})):a.createElement(k,o({ref:n},c))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=t[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},2166:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var a=t(7462),r=t(3366),i=(t(7294),t(3905)),o=["components"],s={title:"Spring Kafka Rebalancing \ucc98\ub9ac \ud574\ubcf4\uae30",description:"\uce74\ud504\uce74 \ub9ac\ubc38\ub7f0\uc2f1\uc774 \uc77c\uc5b4\ub098\ub294 \uacbd\uc6b0 \uc5b4\ub5bb\uac8c \ucc98\ub9ac",slug:"rebalnace",authors:"dongle",tags:["Kafka","Spring Kafka"],image:"https://i.imgur.com/mErPwqL.png",hide_table_of_contents:!1},p=void 0,l={permalink:"/rebalnace",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/blog/2022-05-17-Spring-Kafka-Rebalancing.md",source:"@site/blog/2022-05-17-Spring-Kafka-Rebalancing.md",title:"Spring Kafka Rebalancing \ucc98\ub9ac \ud574\ubcf4\uae30",description:"\uce74\ud504\uce74 \ub9ac\ubc38\ub7f0\uc2f1\uc774 \uc77c\uc5b4\ub098\ub294 \uacbd\uc6b0 \uc5b4\ub5bb\uac8c \ucc98\ub9ac",date:"2022-05-17T00:00:00.000Z",formattedDate:"May 17, 2022",tags:[{label:"Kafka",permalink:"/tags/kafka"},{label:"Spring Kafka",permalink:"/tags/spring-kafka"}],readingTime:7.195,truncated:!0,authors:[{name:"Dongle",title:"Junior Backend Developer",url:"https://github.com/sk1737030",imageURL:"https://github.com/sk1737030.png",key:"dongle"}],frontMatter:{title:"Spring Kafka Rebalancing \ucc98\ub9ac \ud574\ubcf4\uae30",description:"\uce74\ud504\uce74 \ub9ac\ubc38\ub7f0\uc2f1\uc774 \uc77c\uc5b4\ub098\ub294 \uacbd\uc6b0 \uc5b4\ub5bb\uac8c \ucc98\ub9ac",slug:"rebalnace",authors:"dongle",tags:["Kafka","Spring Kafka"],image:"https://i.imgur.com/mErPwqL.png",hide_table_of_contents:!1},prevItem:{title:"DB transaction Isolation\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\uc790",permalink:"/db-isolation"},nextItem:{title:"Spring Cloud Gateway Route \uc124\uc815\ud574\ubcf4\uae30",permalink:"/gateway"}},c={authorsImageUrls:[void 0]},u=[{value:"\uc2a4\ud504\ub9c1 \ubd80\ud2b8\uc5d0\uc11c Kafka Rebalancing \ucc98\ub9ac \ud574\ubcf4\uae30",id:"\uc2a4\ud504\ub9c1-\ubd80\ud2b8\uc5d0\uc11c-kafka-rebalancing-\ucc98\ub9ac-\ud574\ubcf4\uae30",level:2},{value:"\uce74\ud504\uce74 \ub9ac\ubc38\ub7f0\uc2f1\uc774\ub780?",id:"\uce74\ud504\uce74-\ub9ac\ubc38\ub7f0\uc2f1\uc774\ub780",level:3},{value:"\uadf8\ub807\ub2e4\uba74 \uaf2d \ub9ac\ubc38\ub7f0\uc2f1 \ucc98\ub9ac\ub97c \ud574\uc57c\ud560\uae4c?",id:"\uadf8\ub807\ub2e4\uba74-\uaf2d-\ub9ac\ubc38\ub7f0\uc2f1-\ucc98\ub9ac\ub97c-\ud574\uc57c\ud560\uae4c",level:3},{value:"\ucf54\ub4dc\ub85c",id:"\ucf54\ub4dc\ub85c",level:3},{value:"\ub290\ub080\uc810",id:"\ub290\ub080\uc810",level:3}],m={toc:u};function d(e){var n=e.components,s=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},m,s,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/sk1737030/til/tree/master/kafka-repartitioning"},"\ubaa8\ub4e0 \uc18c\uc2a4\ub294 \uc774\uacf3\uc5d0\uc11c")," \ud655\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4 :)"),(0,i.kt)("h2",{id:"\uc2a4\ud504\ub9c1-\ubd80\ud2b8\uc5d0\uc11c-kafka-rebalancing-\ucc98\ub9ac-\ud574\ubcf4\uae30"},"\uc2a4\ud504\ub9c1 \ubd80\ud2b8\uc5d0\uc11c Kafka Rebalancing \ucc98\ub9ac \ud574\ubcf4\uae30"),(0,i.kt)("p",null,"Kafka\ub97c \ud1b5\ud574 \uba54\uc2dc\uc9c0\ub97c \ubc1b\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uad6c\uc131\ud560 \ub54c \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\ub294 \uace0\ub824\ud574\uc57c \ud560 \uc5ec\ub7ec \uc0c1\ud669\uc774 \uc788\ub294\ub370 \uc9c0\uae08 \uc0dd\uac01\ub098\ub294 \ub300\ud45c\uc801\uc73c\ub85c \uba54\uc2dc\uc9c0\uc720\uc2e4, \uc911\ubcf5 \uba54\uc2dc\uc9c0 Consume, \ud655\uc7a5 \uac00\ub2a5\ud55c key \uc815\ud558\uae30, \uce74\ud504\uce74 \ub9ac\ubc38\ub7f0\uc2f1 \ub4f1 \uce74\ud504\uce74\ub97c \uc0ac\uc6a9\ud558\ub294\ub370 \ub9ce\uc740 \ud798\ub4e6\uc774 \ub9ce\uc774 \uc788\ub294\ub370, \uce74\ud504\uce74 \ub9ac\ubc38\ub7f0\uc2f1 \uc0c1\ud669\uc5d0\uc11c \uc6b0\ub9ac\uc758 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \ub2f9\ud669\ud558\uc9c0 \uc54a\uace0 \ucc98\ub9ac\ub97c \uc798 \ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud574 \ubcf4\ub824\uace0 \ud55c\ub2e4."),(0,i.kt)("h3",{id:"\uce74\ud504\uce74-\ub9ac\ubc38\ub7f0\uc2f1\uc774\ub780"},"\uce74\ud504\uce74 \ub9ac\ubc38\ub7f0\uc2f1\uc774\ub780?"),(0,i.kt)("p",null,"\uba3c\uc800 \ub9ac\ubc38\ub7f0\uc2f1\uc774 \ubb54\uc9c0 \uc7a0\uae50 \uc54c\uc544\ubcf4\uace0 \uac04\ub2e4\uba74, Kafka \ud1a0\ud53d\uc744 \uad6c\uc131\ud560 \ub54c \ud55c \ud1a0\ud53d\uc744 \uc5ec\ub7ec \uac1c\uc758 Partitions\ub4e4\ub85c \uad6c\uc131\ud558\ub294 \uc77c\uc774 \ub9ce\uc740\ub370, \uc790\uc5f0\uc2a4\ub7fd\uac8c Consumer(",(0,i.kt)("inlineCode",{parentName:"p"},"\uac19\uc740 Group.Id"),")\ub3c4 \uc5ec\ub7ec \uac1c\ub85c \uad6c\uc131\uc774 \ub41c\ub2e4. \uc774\ub54c \uba54\uc2dc\uc9c0\ub97c Consume \ud558\ub294 \uc0c1\ud669\uc5d0\uc11c Consumer\uac00 \uc5ec\ub7ec \uac00\uc9c0 \uc0c1\ud669\uc73c\ub85c \uc778\ud558\uc5ec Broker\uc640 \uc5f0\uacb0\uc774 \ub04a\uc5b4\uc84c\uc744 \ub54c, \uc77c\uc5b4\ub098\ub294 \uac83\uc774 ",(0,i.kt)("inlineCode",{parentName:"p"},"\ub9ac\ubc38\ub7f0\uc2f1\uc778\ub370")," \ubb38\uc81c\uc5c6\uc774 \uba54\uc2dc\uc9c0\ub97c \uc18c\ube44\ud558\uac8c \uc704\ud574\uc11c \ube0c\ub85c\ucee4\uac00 \uc7a5\uc560\uac00 \uc77c\uc5b4\ub0ac\ub2e4\uace0 \ud310\ub2e8\ud558\uace0 \uae30\uc874 Consumer\uc5d0 \ud560\ub2f9\ub418\uc5b4 \uc788\ub294 \ud30c\ud2f0\uc158\uc744 \ub2e4\ub978 Consumer\uc5d0 \uc7ac \ud560\ub2f9\ud558\ub294 \uac83\uc774\ub2e4. "),(0,i.kt)("h3",{id:"\uadf8\ub807\ub2e4\uba74-\uaf2d-\ub9ac\ubc38\ub7f0\uc2f1-\ucc98\ub9ac\ub97c-\ud574\uc57c\ud560\uae4c"},"\uadf8\ub807\ub2e4\uba74 \uaf2d \ub9ac\ubc38\ub7f0\uc2f1 \ucc98\ub9ac\ub97c \ud574\uc57c\ud560\uae4c?"),(0,i.kt)("p",null,"\uc774\uac74 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \uce74\ud504\uce74\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\uc5d0 \ub530\ub77c \ub2e4\ub978\ub370, \ub9cc\uc57d \ud1a0\ud53d\uc744 \ucee8\uc298 \ud560 \ub54c \ud2b9\uc815 key\ub97c \uae30\uc900\uc73c\ub85c \ucee8\uc298\uc744 \ud558\uace0 \uc788\ub2e4\uace0 \uc608\ub97c \ub4e4\uc5b4 \ubc30\ub2ec \uc8fc\ubb38\uc5d0 \ub300\ud574\uc11c \uce74\ud504\uce74\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uace0 \ud558\uc600\uc744 \ub54c \ud1a0\ud53d\uc758 Key\ub97c \ud55c\uc2dd(0 \ubc88), \uc911\uc2dd(1 \ubc88), \uc591\uc2dd(2 \ubc88), \uc77c\uc2dd(3 \ubc88) \uc73c\ub85c (\uadf8\ub7f4 \ub9ac\ub294 \uc5c6\uaca0\uc9c0\ub9cc) \ud560 \uacbd\uc6b0, \ub9cc\uc57d \uc77c\uc2dd\uc744 \ucee8\uc298\ud558\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \uc5b4\ub5a0\ud55c \uc7a5\uc560\ub85c \ucee8\uc298\uc744 \ubabb\ud55c\ub2e4\uace0 \ud558\uc600\uc744 \ub54c, \uc77c\uc2dd(3 \ubc88)\uc758 \ud30c\ud2f0\uc158\uc774 \ud55c\uc2dd(0 \ubc88) \ud30c\ud2f0\uc158\uc73c\ub85c \ud560\ub2f9\ub418\uc5c8\uc744 \ub54c (\ub7f0\ud0c0\uc784\uc5d0) \ucc98\ub9ac\uac00 \ub530\ub85c \ud544\uc694\ud560 \uc218\uac00 \uc788\ub2e4. \ud55c\uc2dd\ub9cc \uac00\uc9c0\uace0 \uc788\ub294 \uba54\ub274 \uc815\ubcf4\ub97c \uc77c\uc2dd\uc744 \ud3ec\ud568\ud55c \uba54\ub274 \uc815\ubcf4\ub85c \ub2e4\uc2dc \ubd88\ub7ec\uc628\ub2e4\ub4e0\uc9c0, \uc544\ub2c8\uba74 \ub530\ub85c \uc54c\ub78c \ucc98\ub9ac\ub97c \ud55c\ub2e4\ub4e0\uc9c0 \ub0b4\ubd80 \uba54\ubaa8\ub9ac\uc5d0 \uac00\uc9c0\uace0 \uc788\ub294 \uc815\ubcf4\ub4e4\uc744 \ucd08\uae30\ud654 \uc791\uc5c5\uc774 \ud544\uc694\ud558\ub294 \ub4f1 \uc5ec\ub7ec \uac00\uc9c0 \ucc98\ub9ac\ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \ub9ac\ubc38\ub7f0\uc2f1 \ucc98\ub9ac\ub294 \uce74\ud504\uce74\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\uc5d0 \ub530\ub77c \ub2ec\ub77c \ucc98\ub9ac \ud560 \uc218\ub3c4 \uc548 \ud574\ub3c4 \ub41c\ub2e4."),(0,i.kt)("h3",{id:"\ucf54\ub4dc\ub85c"},"\ucf54\ub4dc\ub85c"),(0,i.kt)("p",null,"\ucf54\ub4dc\ub85c \ucc98\ub9ac\ud558\ub294 \ubd80\ubd84\uc740 \uc758\uc678\ub85c \uac04\ub2e8\ud55c\ub370 \uc77c\ub2e8 Spring Docs\uc5d0\uc11c \ud655\uc778\uc744 \ud574\ubcf8\ub2e4\uba74",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"Kafka\uc758 ConsumerRebalanceListener")," \ub97c \uad6c\ud604\ud55c ",(0,i.kt)("inlineCode",{parentName:"p"},"ConsumerAwareRebalanceListener")," \ub97c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'public interface ConsumerAwareRebalanceListener extends ConsumerRebalanceListener {\n ...\n\ndefault void onPartitionsRevokedBeforeCommit(Consumer<?, ?> consumer, Collection<TopicPartition> partitions) {\n        try {\n            onPartitionsRevoked(partitions);\n        }\n        catch (Exception e) { // NOSONAR\n            LOGGER.debug(e, "User method threw exception");\n        }\n    }\n\n    default void onPartitionsRevokedAfterCommit(Consumer<?, ?> consumer, Collection<TopicPartition> partitions) {\n    }\n\n    default void onPartitionsLost(Consumer<?, ?> consumer, Collection<TopicPartition> partitions) {\n        try {\n            onPartitionsLost(partitions);\n        }\n        catch (Exception e) { // NOSONAR\n            LOGGER.debug(e, "User method threw exception");\n        }\n    }\n\n    default void onPartitionsAssigned(Consumer<?, ?> consumer, Collection<TopicPartition> partitions) {\n        try {\n            onPartitionsAssigned(partitions);\n        }\n        catch (Exception e) { // NOSONAR\n            LOGGER.debug(e, "User method threw exception");\n        }\n    }\n\n    @Override\n    default void onPartitionsRevoked(Collection<TopicPartition> partitions) {\n    }\n\n    @Override\n    default void onPartitionsAssigned(Collection<TopicPartition> partitions) {\n    }\n\n    @Override\n    default void onPartitionsLost(Collection<TopicPartition> partitions) {\n    }\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"onPartitionsAssigned")," \uc740 \ud30c\ud2f0\uc158 \uc7ac\ud560\ub2f9\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub420 \ub54c \ud638\ucd9c\ub41c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"onPartitionsRevoked")," \uc740 \ud560\ub2f9\ub418\uc5b4 \uc788\ub358 \ud30c\ud2f0\uc158\uc774 \uc81c\uac70 \ub420 \ub54c \ud638\ucd9c\ub41c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"onPartitionsLost")," \uc740  \uc77c\ubc18\uc801\uc778 \uc0c1\ud669\uc5d0\uc11c\ub294 \uc2e4\ud589\uc774 \uc548\ub418\ub098 \ub9cc\uc57d \ucee8\uc288\uba38\uc758 \uc138\uc158 \uc81c\ud55c \uc2dc\uac04\uc774 \ub9cc\ub8cc\ub418\uc5c8\uac70\ub098 \ucee8\uc288\uba38\uac00 \ub354 \uc774\uc0c1 \uadf8\ub8f9\uc5d0 \uc18d\ud558\uc9c0 \uc54a\uc74c\uc744 \ub098\ud0c0\ub0b4\ub294 \uce58\uba85\uc801\uc778 \uc624\ub958\uac00 \uc218\uc2e0\ub41c \uacbd\uc6b0 \ud638\ucd9c\ub41c\ub2e4.  "),(0,i.kt)("br",null),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"ReBalancing\uc21c\uc11c")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"\ucc38\uace0\ub85c \uc77c\ubc18\uc801\uc778 \ud30c\ud2f0\uc158\uc774 \ud560\ub2f9\ub418\uace0 \uc798 \uc2e4\ud589\ub418\uace0 \uc788\ub294 \ub7f0\ud0c0\uc784 \ud658\uacbd\uc5d0\uc11c\ub294 \ub2f9\uc5f0\ud55c \ub9d0\uc774 \uaca0\uc9c0\ub9cc ",(0,i.kt)("inlineCode",{parentName:"p"},"PartitionsRevoke"),"\uac00 \uc2e4\ud589\ub41c \ud6c4 ",(0,i.kt)("inlineCode",{parentName:"p"},"PartitionsAssigned"),"\uac00 \uc2e4\ud589\ub41c\ub2e4. \ubc18\uba74 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \uc2e4\ud589 \ub420 \ub54c\uc5d0\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"PartitionsAssigned"),"\ub9cc \uc2e4\ud589\ub41c\ub2e4."))),(0,i.kt)("br",null),"\uc6b0\ub9ac \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c\ub294 Spring Kaka\uc5d0\uc11c \uc798 \uac10\uc2f8\uc11c \uc900 `ConsumerAwareRebalanceListener` \uc0c1\uc18d \ubc1b\uc544\uc11c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4.",(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'@Component\npublic class MyListener implements ConsumerAwareRebalanceListener {\n\n  @Override\n  public void onPartitionsAssigned(Consumer<?, ?> consumer, Collection<TopicPartition> partitions) {\n      ConsumerAwareRebalanceListener.super.onPartitionsAssigned(consumer, partitions);\n      System.out.println("onPartitionsAssigned");\n      partitions.forEach(topicPartition -> System.out.println(topicPartition.partition()));\n  }\n\n  @Override\n  public void onPartitionsLost(Consumer<?, ?> consumer, Collection<TopicPartition> partitions) {\n      ConsumerAwareRebalanceListener.super.onPartitionsLost(consumer, partitions);\n      System.out.println("onPartitionsLost");\n  }\n\n  @Override\n  public void onPartitionsRevoked(Collection<TopicPartition> partitions) {\n      ConsumerAwareRebalanceListener.super.onPartitionsRevoked(partitions);\n      System.out.println("onPartitionsRevoked");\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"consumer")," \uc5d0\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"Consumer"),"\uc5d0  \uc5ec\ub7ec \uc815\ubcf4\ub4e4\uc744 \ubcfc \uc218 \uc788\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"partitions")," \ud30c\ub77c\ubbf8\ud130\ub85c \ud604\uc7ac \ud560\ub2f9 \ub41c \ubaa9\ub85d\uc744 \uc778\uc790\ub85c \uc900\ub2e4.  "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:t(6432).Z,width:"1907",height:"242"})),(0,i.kt)("h3",{id:"\ub290\ub080\uc810"},"\ub290\ub080\uc810"),(0,i.kt)("p",null,"\uc9c4\uc9dc \uce74\ud504\uce74 \ub108\ubb34 \uc5b4\ub835\ub2e4. \ud2b9\ud788 \uce74\ud504\uce74\uc5d0 \uc758\uc874\uc131\uc774 \ub192\uc73c\uba74 \ub192\uc744\uc218\ub85d \ub09c\ub3c4\uac00 \uc62c\ub77c\uac00\ub294 \uac70 \uac19\ub2e4. \uc0dd\uac01 \ud574 \ubcfc \ubd80\ubd84\ub4e4\uc774 \ub9ce\uc740\ub370, \uce74\ud504\uce74\uc758 \uba54\uc2dc\uc9c0\ub97c produce\ud560 \ub54c \uc720\uc2e4\uc774 \ub098\uba74 \uc548 \ub418\ub294 \uc11c\ube44\uc2a4\uc778\ub370 \uc5b4\ub5bb\uac8c \ube60\ub974\uba74\uc11c \uba54\uc2dc\uc9c0\uac00 \uc720\uc2e4\ub418\uc9c0 \uc54a\uc744\uae4c\ub97c \uace0\ub824 \ud55c\ub2e4\ub4e0\uc9c0, \ud1a0\ud53d\uc758 key\ub97c \uc5b4\ub5a4 key\ub85c \uc124\uc815\ud558\ub0d0\uc5d0 \ud655\uc815\uc131\uc774 \uc788\uace0 \uba54\uc2dc\uc9c0\uac00 \uc798 \ubd84\ubc30 \ub420 \ub54c\ub77c\ub358\uc9c0, \ub9ac\ud30c\ud2f0\ub2c8\uc154\ub2dd \uc0c1\ud669\uc5d0\uc11c\uc758 \uc11c\ube44\uc2a4\uac00 \ubb38\uc81c\uac00 \uc5c6\uc744\uae4c \uba54\uc138\uc9c0\ub97c \uc911\ubcf5\uc73c\ub85c \uc77d\uc744 \uacbd\uc6b0\ub294 \uc5c6\uc744 \uac70\ub77c\ub4e0\uc9c0, \uc911\ubcf5\uc73c\ub85c \uba54\uc2dc\uc9c0\ub97c \ucee8\uc298 \ud560 \uacbd\uc6b0\ub3c4 \uc788\ub294\ub370 \uc774\ub54c\ub294 \uc5b4\ub5bb\uac8c \ucc98\ub9ac \ud574\uc57c \ud560\uae4c \ub4f1\ub4f1 \uc815\ub9d0 \uce74\ud504\uce74 \uc5b4\ub835\ub2e4. \uadf8\ub7f0\ub370 \ub9c9\uc0c1 \uc774\ub7f0 \uac78 \ud558\ub098\ud558\ub098 \ud574\uacb0 \ud574\uc11c \uc11c\ube44\uc2a4\uac00 \uc7a5\uc560 \uc5c6\uace0 \uc6b0\uc544\ud558\uac8c \uc798 \ub3cc\uc544\uac00\ub294 \uac78 \ud560 \uc218 \uc788\ub2e4\uba74 \uc5bc\ub9c8\ub098 \ub9db\uc774 \uc788\uc744\uae4c? \uadf8\ub7f0 \uc0c1\uc0c1\uc744 \ud558\uba74\uc11c ",(0,i.kt)("del",{parentName:"p"},"\uc57c-\uadfc\uc744 \ud55c\ub2e4.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Untitled",src:t(2606).Z,width:"300",height:"168"})),(0,i.kt)("p",null,"\ucc38\uace0",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://developer.confluent.io/learn-kafka/apache-kafka/partitions/"},"https://developer.confluent.io/learn-kafka/apache-kafka/partitions/"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://www.popit.kr/kafka-consumer-group/"},"https://www.popit.kr/kafka-consumer-group/"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/34550873/difference-between-groupid-and-consumerid-in-kafka-consumer"},"group id\uc640 consume id \ucc28\uc774"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-kafka/docs/2.5.17.RELEASE/reference/html/"},"\uc2a4\ud504\ub9c1 Kafka Docs"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://kafka.apache.org/25/javadoc/org/apache/kafka/clients/consumer/ConsumerRebalanceListener.html#onPartitionsLost-java.util.Collection-"},"ConsumerRebalanceListener\uc124\uba85")))}d.isMDXComponent=!0},2606:function(e,n,t){n.Z=t.p+"assets/images/Untitled 1-d906beaf502a07f682c7ddff70c5c686.png"},6432:function(e,n,t){n.Z=t.p+"assets/images/Untitled-a7ab9c3a34c1371370ca6e4eebd9065a.png"}}]);